# type 종류: String, Match, Date, Number, Integer, Static
# from: context, selector || xPath
# onError.policy: Static, Alternative, Callback, Skip


elements:
  title:
    type: String                          # string(default), not array, required
    from:
      context: Context                    # Context(default), Page, Frame, Callback
      selector: div.card-title
      evaluate: textContent               # 기본값 생략가능
    onError:
      - policy: Alternative
        from:
          context: Context
          selector: div.card-title2
          waitForSelector: div.card-title2
      - policy: Skip                      # retry(n): n번 시도 후 같은 에러 발생시 종료, skip(n) 다음 항목 실행
  date:
    type: Match
    regex: yyyy-mm-dd
    from:
      context: Context
      xPath: //*[@id="rso"]/dv[3]/div/div/a/h3/span    # xPath는 배열을 리턴하지만 type에 의해 최종적으로 결정됨
      waitForXPath: //*[@id="rso"]/div[3]/div/div/a/h3/span
  content:
    type: String?                         # nullable, not array
    from: div.content                     # from Context use selector
    onError:
      - policy: Callback
        name: onContentError
  url:
    type: String
    from:                             # 혹은 from: Callback:getLinkUrl
      context: Callback
      name: getLinkUrl

  site_name:
    staticValue: 클리앙

collect:
  main:
    - title, site_name, date
  sub:
    - content, url



